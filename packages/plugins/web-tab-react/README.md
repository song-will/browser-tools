# WebTab - æˆ‘çš„æ–°æ ‡ç­¾é¡µ

ä¸€ä¸ªç¾è§‚ã€å®ç”¨çš„ Chrome æµè§ˆå™¨æ–°æ ‡ç­¾é¡µæ‰©å±•ï¼Œä½¿ç”¨ React + Vite æ„å»ºï¼Œæä¾›æœç´¢ã€å¿«æ·æ–¹å¼ç®¡ç†ã€å¾…åŠäº‹é¡¹ç­‰åŠŸèƒ½ã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ” æœç´¢åŠŸèƒ½
- æ”¯æŒå¤šç§æœç´¢å¼•æ“ï¼ˆGoogleã€Bing ç­‰ï¼‰
- å¿«é€Ÿæœç´¢æ ï¼Œæ”¯æŒå¿«æ·é”®æ“ä½œ

### ğŸ”— å¿«æ·æ–¹å¼ç®¡ç†
- æ·»åŠ ã€ç¼–è¾‘ã€åˆ é™¤å¿«æ·æ–¹å¼
- æ”¯æŒå¿«æ·æ–¹å¼åˆ†ç»„ç®¡ç†
- è‡ªå®šä¹‰å›¾æ ‡å’Œ URL
- æ‹–æ‹½æ’åºåŠŸèƒ½
- **é€»è¾‘åˆ é™¤**ï¼šåˆ é™¤çš„å¿«æ·æ–¹å¼ä¿ç•™åœ¨å­˜å‚¨ä¸­ï¼Œæ”¯æŒæ•°æ®æ¢å¤å’Œè·¨è®¾å¤‡åŒæ­¥

### âœ… å¾…åŠäº‹é¡¹
- æ·»åŠ ã€å®Œæˆã€åˆ é™¤å¾…åŠäº‹é¡¹
- å®æ—¶ä¿å­˜å’ŒåŒæ­¥
- **é€»è¾‘åˆ é™¤**ï¼šåˆ é™¤çš„å¾…åŠäº‹é¡¹ä¿ç•™åœ¨å­˜å‚¨ä¸­ï¼Œæ”¯æŒæ•°æ®æ¢å¤å’Œè·¨è®¾å¤‡åŒæ­¥

### ğŸ¨ ä¸ªæ€§åŒ–è®¾ç½®
- **èƒŒæ™¯è®¾ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰å›¾ç‰‡æˆ–è§†é¢‘èƒŒæ™¯
- **ä¸»é¢˜è®¾ç½®**ï¼šæ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢
- å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸

### â˜ï¸ æ•°æ®åŒæ­¥
- **æœ¬åœ°å­˜å‚¨**ï¼šä½¿ç”¨ Chrome Storage API å­˜å‚¨æ•°æ®
- **GitHub Gist äº‘åŒæ­¥**ï¼ˆå¯é€‰ï¼‰ï¼š
  - è‡ªåŠ¨å¤‡ä»½åˆ° GitHub Gist
  - æ”¯æŒè·¨è®¾å¤‡æ•°æ®åŒæ­¥
  - æ™ºèƒ½åˆå¹¶å†²çªè§£å†³
  - æ”¯æŒæ•°æ®æ¢å¤

### ğŸ“Š æ“ä½œæ—¥å¿—
- è®°å½•æ‰€æœ‰æ“ä½œå†å²
- æ–¹ä¾¿è¿½è¸ªæ•°æ®å˜æ›´

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šReact 19 + Vite
- **UI åº“**ï¼šAnt Design 6
- **æ ·å¼**ï¼šTailwind CSS
- **æ„å»ºå·¥å…·**ï¼šVite (rolldown)
- **å­˜å‚¨**ï¼šChrome Storage API + GitHub Gist API

## ğŸ“¦ æ‰“åŒ…æ„å»º

### å‰ç½®è¦æ±‚

- Node.js >= 18
- pnpmï¼ˆæ¨èï¼‰æˆ– npm/yarn

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¼€å‘æ¨¡å¼

```bash
pnpm dev
```

å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼Œæ”¯æŒçƒ­æ›´æ–°ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

æ„å»ºæµç¨‹ï¼š
1. **Vite æ„å»º**ï¼šå°† React ä»£ç æ‰“åŒ…åˆ° `dist` ç›®å½•
2. **å¤åˆ¶æ–‡ä»¶**ï¼šå°†æ„å»ºäº§ç‰©å¤åˆ¶åˆ° `publishDir` ç›®å½•ï¼Œå¹¶å¤åˆ¶ `manifest.json`
3. æ„å»ºäº§ç‰©ä½äº `publishDir` ç›®å½•

### ä»…æ„å»ºï¼ˆä¸å¤åˆ¶æ–‡ä»¶ï¼‰

```bash
pnpm build:only
```

åªæ‰§è¡Œ Vite æ„å»ºï¼Œä¸æ‰§è¡Œæ–‡ä»¶å¤åˆ¶æ­¥éª¤ã€‚

### åˆ›å»ºæ‰©å±• ZIP åŒ…

```bash
pnpm create-zip
```

å°† `publishDir` ç›®å½•æ‰“åŒ…ä¸º `extension.zip`ï¼Œå¯ç›´æ¥ç”¨äº Chrome æ‰©å±•å®‰è£…ã€‚

### å®Œæ•´æ‰“åŒ…æµç¨‹

```bash
# 1. æ„å»ºé¡¹ç›®
pnpm build

# 2. åˆ›å»º ZIP åŒ…ï¼ˆå¯é€‰ï¼‰
pnpm create-zip
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€ï¼šå¼€å‘æ¨¡å¼å®‰è£…

1. è¿è¡Œ `pnpm build` æ„å»ºé¡¹ç›®
2. æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©é¡¹ç›®çš„ `publishDir` ç›®å½•

### æ–¹å¼äºŒï¼šZIP åŒ…å®‰è£…

1. è¿è¡Œ `pnpm build` å’Œ `pnpm create-zip` åˆ›å»º ZIP åŒ…
2. æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©è§£å‹åçš„ `extension.zip` æ–‡ä»¶ï¼ˆæˆ–è§£å‹åé€‰æ‹©ç›®å½•ï¼‰

### ä½¿ç”¨æ‰©å±•

1. å®‰è£…å®Œæˆåï¼Œæ‰“å¼€æ–°æ ‡ç­¾é¡µå³å¯çœ‹åˆ° WebTab ç•Œé¢
2. ç‚¹å‡»å·¦ä¸‹è§’çš„è®¾ç½®æŒ‰é’®è¿›è¡Œä¸ªæ€§åŒ–é…ç½®
3. åœ¨è®¾ç½®ä¸­å¯ä»¥ï¼š
   - é…ç½®èƒŒæ™¯ï¼ˆå›¾ç‰‡/è§†é¢‘ï¼‰
   - åˆ‡æ¢ä¸»é¢˜
   - å¯ç”¨ GitHub Gist äº‘åŒæ­¥ï¼ˆéœ€è¦ GitHub Personal Access Tokenï¼‰

### GitHub Gist äº‘åŒæ­¥è®¾ç½®

1. åœ¨è®¾ç½®ä¸­å¯ç”¨"GitHub Gist åŒæ­¥"
2. è¾“å…¥ä½ çš„ GitHub Personal Access Tokenï¼ˆéœ€è¦ `gist` æƒé™ï¼‰
3. é¦–æ¬¡åŒæ­¥ä¼šè‡ªåŠ¨åˆ›å»º Gistï¼Œåç»­ä¼šè‡ªåŠ¨åŒæ­¥æ•°æ®
4. ç‚¹å‡»"ä» GitHub åŒæ­¥"å¯ä»¥æ‰‹åŠ¨æ‹‰å–è¿œç¨‹æ•°æ®å¹¶åˆå¹¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
web-tab-react/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Shortcuts.jsx    # å¿«æ·æ–¹å¼ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TodoList.jsx     # å¾…åŠäº‹é¡¹ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SearchBox.jsx    # æœç´¢æ¡†ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Settings.jsx     # è®¾ç½®é¢æ¿
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ storage.js      # å­˜å‚¨ç®¡ç†ï¼ˆæ”¯æŒé€»è¾‘åˆ é™¤å’Œäº‘åŒæ­¥ï¼‰
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ ThemeContext.jsx # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”‚   â””â”€â”€ App.jsx             # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ copy-to-webtab.js   # æ„å»ºåå¤åˆ¶æ–‡ä»¶è„šæœ¬
â”‚   â””â”€â”€ create-zip.js      # åˆ›å»º ZIP åŒ…è„šæœ¬
â”œâ”€â”€ dist/                   # Vite æ„å»ºè¾“å‡ºç›®å½•
â”œâ”€â”€ publishDir/             # æœ€ç»ˆå‘å¸ƒç›®å½•ï¼ˆç”¨äºå®‰è£…æ‰©å±•ï¼‰
â”œâ”€â”€ manifest.json           # Chrome æ‰©å±•æ¸…å•æ–‡ä»¶
â”œâ”€â”€ vite.config.js          # Vite é…ç½®æ–‡ä»¶
â””â”€â”€ package.json            # é¡¹ç›®é…ç½®
```

## ğŸ”§ å¼€å‘è¯´æ˜

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥ï¼š`pnpm lint`
- éµå¾ª React Hooks æœ€ä½³å®è·µ
- ä½¿ç”¨å‡½æ•°å¼ç»„ä»¶å’Œ Hooks

### å­˜å‚¨æœºåˆ¶

é¡¹ç›®ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°å­˜å‚¨ç®¡ç†ï¼š

- **ChromeStorageStrategy**ï¼šæœ¬åœ°å­˜å‚¨ç­–ç•¥
- **GitHubGistStrategy**ï¼šGitHub Gist äº‘å­˜å‚¨ç­–ç•¥
- **CombinedStorageStrategy**ï¼šç»„åˆç­–ç•¥ï¼ˆæœ¬åœ° + äº‘åŒæ­¥ï¼‰

æ•°æ®é‡‡ç”¨**é€»è¾‘åˆ é™¤**æœºåˆ¶ï¼š
- åˆ é™¤æ“ä½œä¸ä¼šçœŸæ­£ç§»é™¤æ•°æ®ï¼Œè€Œæ˜¯æ ‡è®° `deleted: true` å’Œ `deletedAt` æ—¶é—´æˆ³
- æ˜¾ç¤ºæ—¶è¿‡æ»¤å·²åˆ é™¤çš„æ•°æ®
- æ”¯æŒè·¨è®¾å¤‡åŒæ­¥æ—¶çš„æ™ºèƒ½åˆå¹¶å’Œæ¢å¤

### è°ƒè¯•

åœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œå­˜å‚¨ç®¡ç†å™¨å·²æŒ‚è½½åˆ° `window.storageManager`ï¼Œå¯åœ¨æµè§ˆå™¨æ§åˆ¶å°ä½¿ç”¨ï¼š

```javascript
// æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨æ•°æ®
await storageManager.debug()

// æ‰‹åŠ¨åŒæ­¥åˆ° GitHub
await storageManager.syncToGithub()

// ä» GitHub åŒæ­¥
await storageManager.syncFromGithub()
```

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºç§æœ‰é¡¹ç›®ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestã€‚

