const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Settings-CdQQZnFk.js","assets/js/vendor-B-uj9Psy.js","assets/js/rolldown-runtime-BM52pwkw.js","assets/js/vendor-antd-DeIwGye1.js","assets/js/vendor-icons-62_ltRSW.js","assets/js/vendor-react-BJtxAQnE.js","assets/js/utils-zhBS5Lj3.js"])))=>i.map(i=>d[i]);
import{Ft as e,It as t}from"./vendor-B-uj9Psy.js";import{n,t as r}from"./vendor-react-BJtxAQnE.js";import{S as i,_ as a,a as o,b as s,c,d as l,f as u,g as d,h as f,i as p,l as m,m as h,s as g,t as _,u as v,x as y,y as b}from"./vendor-antd-DeIwGye1.js";import{n as x,r as S,t as C}from"./vendor-icons-62_ltRSW.js";import{t as w}from"./utils-zhBS5Lj3.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var T=e(),E=t(),D=n(),O=r(),k=(0,E.createContext)();function A(e){let t=(0,D.c)(5),{children:n}=e,r;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(r=[],t[0]=r):r=t[0],(0,E.useEffect)(j,r);let i;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(i={algorithm:_.defaultAlgorithm,token:{colorBgContainer:`#ffffff`,colorBgElevated:`#ffffff`,colorText:`rgba(0, 0, 0, 0.87)`,colorTextSecondary:`rgba(0, 0, 0, 0.6)`,colorBorder:`rgba(0, 0, 0, 0.1)`,borderRadius:8}},t[1]=i):i=t[1];let a=i,o;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(o={antdTheme:a},t[2]=o):o=t[2];let s;return t[3]===n?s=t[4]:(s=(0,O.jsx)(k.Provider,{value:o,children:n}),t[3]=n,t[4]=s),s}function j(){document.documentElement.classList.add(`light-theme`),document.documentElement.classList.remove(`dark-theme`)}function M(){let e=(0,E.useContext)(k);if(!e)throw Error(`useTheme must be used within ThemeProvider`);return e}var N=n(),{useToken:P}=_;function F(){let e=(0,N.c)(15),{token:t}=P(),[n,r]=(0,E.useState)(`00:00`),[i,a]=(0,E.useState)(`加载中...`),o,s;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(o=()=>{let e=()=>{let e=new Date;r(e.toLocaleTimeString(`zh-CN`,{hour:`2-digit`,minute:`2-digit`,hour12:!1})),a(e.toLocaleDateString(`zh-CN`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`}))};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},s=[],e[0]=o,e[1]=s):(o=e[0],s=e[1]),(0,E.useEffect)(o,s);let c;e[2]===t.colorText?c=e[3]:(c={fontSize:60,fontWeight:300,marginBottom:8,color:t.colorText},e[2]=t.colorText,e[3]=c);let l;e[4]!==c||e[5]!==n?(l=(0,O.jsx)(`div`,{style:c,children:n}),e[4]=c,e[5]=n,e[6]=l):l=e[6];let u;e[7]===t.colorTextSecondary?u=e[8]:(u={fontSize:20,opacity:.9,color:t.colorTextSecondary},e[7]=t.colorTextSecondary,e[8]=u);let d;e[9]!==i||e[10]!==u?(d=(0,O.jsx)(`div`,{style:u,children:i}),e[9]=i,e[10]=u,e[11]=d):d=e[11];let f;return e[12]!==l||e[13]!==d?(f=(0,O.jsxs)(`header`,{className:`text-center pt-10 pb-5 px-5 relative`,children:[l,d]}),e[12]=l,e[13]=d,e[14]=f):f=e[14],f}function I(){let[e,t]=(0,E.useState)(`google`),n=async e=>{try{await w.set(`search_engine`,e)}catch(e){console.error(`[SearchBox] Save search engine error:`,e)}};return(0,E.useEffect)(()=>{(async()=>{try{await w.init();let e=await w.get(`search_engine`);(e===`bing`||e===`google`)&&t(e)}catch(e){console.error(`[SearchBox] Load search engine error:`,e)}})()},[]),(0,O.jsxs)(`div`,{className:`w-full max-w-[600px] flex flex-col items-center gap-3`,children:[(0,O.jsx)(u,{options:[{label:`Google`,value:`google`},{label:`Bing`,value:`bing`}],value:e,onChange:e=>{t(e),n(e)},size:`large`}),(0,O.jsx)(`form`,{id:`search-form`,action:(()=>e===`bing`?`https://www.bing.com/search`:`https://www.google.com/search`)(),method:`GET`,target:`_blank`,onSubmit:e=>{let t=e.target.querySelector(`input`).value.trim();if(!t){e.preventDefault();return}/^https?:\/\//i.test(t)?(e.preventDefault(),window.open(t,`_blank`)):/^[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+$/i.test(t)&&(e.preventDefault(),window.open(`https://`+t,`_blank`))},className:`w-full`,children:(0,O.jsx)(c,{size:`large`,prefix:(0,O.jsx)(b,{}),placeholder:(()=>e===`bing`?`搜索 Bing 或输入网址...`:`搜索 Google 或输入网址...`)(),name:`q`,autoComplete:`off`,style:{borderRadius:50,height:56,fontSize:16}})})]})}var{useToken:ee}=_,L=`data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0xMiAxLjVjLTEuNzQgMC0zLjI3LjgxLTQuMyAyLjA1bC0uMTcuMTljLS40My40OC0uNzMgMS4wNS0uODggMS42N0M2LjQ0IDUuODQgNiA3LjM0IDYgOXMyLjAxIDYgNiA2IDYtMi42OSA2LTZjMC0xLjY2LS40NC0zLjE2LTEuMTctNC4zMy0uMTUtLjYyLS40NS0xLjE5LS44OC0xLjY3bC0uMTctLjE5QzE1LjI3IDIuMzEgMTMuNzQgMS41IDEyIDEuNXptMCAxOGMtMi4yMSAwLTQtMS43OS00LTRzMS43OS00IDQtNCA0IDEuNzkgNCA0LTEuNzkgNC00IDR6Ii8+PC9zdmc+`,R=[{id:1,name:`GitHub`,url:`https://github.com`,icon:`https://github.githubassets.com/favicons/favicon.svg`},{id:2,name:`Gmail`,url:`https://mail.google.com`,icon:`https://www.gstatic.com/images/branding/product/1x/gmail_2020q4_48dp.png`},{id:3,name:`YouTube`,url:`https://youtube.com`,icon:`https://www.youtube.com/s/desktop/d5c6f5f4/img/favicon_48x48.png`},{id:4,name:`知乎`,url:`https://zhihu.com`,icon:`https://static.zhihu.com/heifetz/favicon.ico`},{id:5,name:`B站`,url:`https://bilibili.com`,icon:`https://www.bilibili.com/favicon.ico`}];function z(){let{token:e}=ee(),[t,n]=(0,E.useState)([]),[r,u]=(0,E.useState)(null),[h,_]=(0,E.useState)(!1),[y]=m.useForm(),[b,C]=(0,E.useState)(!0),[T,D]=(0,E.useState)(null),[k,A]=(0,E.useState)(null),[j,M]=(0,E.useState)(null),[N,P]=(0,E.useState)(null),[F,I]=(0,E.useState)(null),[z,B]=(0,E.useState)(null),[V,H]=(0,E.useState)(``),U=(0,E.useRef)(null),W=(0,E.useRef)(null);(0,E.useEffect)(()=>{G()},[]),(0,E.useEffect)(()=>{let e=U.current;if(!e)return;let t=()=>{e.classList.add(`scrolling`),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{e.classList.remove(`scrolling`)},1e3)};return e.addEventListener(`scroll`,t),()=>{e.removeEventListener(`scroll`,t),W.current&&clearTimeout(W.current)}},[]);let G=async()=>{try{await w.init();let e=await w.get(`shortcuts`);e&&Array.isArray(e)&&e.length>0?n(e):(n(R),await w.set(`shortcuts`,R))}catch(e){console.error(`[Shortcuts] Load error:`,e),n(R)}finally{C(!1)}},K=async e=>{try{await w.set(`shortcuts`,e),n(e)}catch(e){console.error(`[Shortcuts] Save error:`,e)}},q=()=>{u(null),y.resetFields(),_(!0)},J=e=>{u(e.id),y.setFieldsValue({name:e.name,url:e.url,icon:e.icon||``}),_(!0)},Y=async e=>{await K(t.filter(t=>t.id!==e))},X=async(e,n)=>{await K(t.map(t=>{if(t.id===e&&t.isGroup){let e=t.items.filter(e=>e.id!==n);return e.length===1?e[0]:e.length===0?null:{...t,items:e}}return t}).filter(Boolean))},Z=e=>{D(e)},te=async()=>{T&&(await Y(T),D(null))},ne=async()=>{try{let{name:e,url:n,icon:i}=await y.validateFields(),a=n.trim();/^https?:\/\//i.test(a)||(a=`https://`+a);let o;if(r===null){let n=Math.max(...t.map(e=>e.id),0)+1;o=[...t,{id:n,name:e.trim(),url:a,icon:i?.trim()||L}]}else o=t.map(t=>t.id===r?t.isGroup?t:{...t,name:e.trim(),url:a,icon:i?.trim()||L}:t);await K(o),_(!1),u(null),y.resetFields()}catch(e){console.error(`[Shortcuts] Validation error:`,e)}},re=()=>{_(!1),u(null),y.resetFields()},Q=(e,t)=>{A(t),e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/html`,t)},ie=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect=`move`,t!==k&&M(t)},ae=()=>{M(null)},oe=async(e,n)=>{if(e.preventDefault(),M(null),!k||k===n){A(null),I(null);return}let r,i=[...t];if(F){let e=t.find(e=>e.id===F.groupId);e&&e.isGroup&&(r=e.items.find(e=>e.id===F.itemId),i=i.map(e=>{if(e.id===F.groupId&&e.isGroup){let t=e.items.filter(e=>e.id!==F.itemId);return t.length===1?t[0]:t.length===0?null:{...e,items:t}}return e}).filter(Boolean))}else r=t.find(e=>e.id===k);if(!r){A(null),I(null);return}let a=i.find(e=>e.id===n);if(!a){A(null),I(null);return}if(a.isGroup){let e={...r};i=i.map(t=>t.id===n?{...t,items:[...t.items,e]}:t),F||(i=i.filter(e=>e.id!==k))}else{let e=Math.max(...i.map(e=>e.id),0)+1,t={...r},o={...a};i=i.map(r=>r.id===n?{id:e,isGroup:!0,items:[o,t]}:r),F||(i=i.filter(e=>e.id!==k))}await K(i),A(null),I(null)},$=()=>{A(null),M(null),I(null)},se=(e,t,n)=>{A(n),I({groupId:t,itemId:n}),e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/html`,n)},ce=async(e,n)=>{await K(t.map(t=>t.id===e&&t.isGroup?{...t,name:n.trim()||null}:t)),B(null),H(``)},le=(e,t)=>{B(e),H(t||``)},ue=e=>e.isGroup?[{key:`editName`,label:`编辑组名`,icon:(0,O.jsx)(x,{}),onClick:()=>le(e.id,e.name)},{key:`delete`,label:`删除组`,icon:(0,O.jsx)(S,{}),danger:!0,onClick:()=>Z(e.id)}]:[{key:`edit`,label:`编辑`,icon:(0,O.jsx)(x,{}),onClick:()=>J(e)},{key:`delete`,label:`删除`,icon:(0,O.jsx)(S,{}),danger:!0,onClick:()=>Z(e.id)}],de=t=>t.isGroup?(0,O.jsx)(a,{content:(0,O.jsxs)(`div`,{style:{padding:`8px`,minWidth:`200px`},children:[(0,O.jsx)(`div`,{style:{marginBottom:`12px`,paddingBottom:`8px`,borderBottom:`1px solid ${e.colorBorder}`},children:z===t.id?(0,O.jsxs)(l.Compact,{style:{width:`100%`},children:[(0,O.jsx)(c,{value:V,onChange:e=>H(e.target.value),placeholder:`组名`,onPressEnter:()=>ce(t.id,V),autoFocus:!0}),(0,O.jsx)(s,{type:`primary`,onClick:()=>ce(t.id,V),children:`保存`}),(0,O.jsx)(s,{onClick:()=>{B(null),H(``)},children:`取消`})]}):(0,O.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`},children:[(0,O.jsxs)(`span`,{style:{fontSize:14,fontWeight:500,color:e.colorText},children:[t.name||`group`,`(`,t.items.length,`)`]}),(0,O.jsx)(s,{type:`text`,size:`small`,icon:(0,O.jsx)(x,{}),onClick:()=>le(t.id,t.name)})]})}),(0,O.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(48px, 1fr))`,gap:`8px`},children:t.items.map(n=>(0,O.jsxs)(`div`,{draggable:!0,onDragStart:e=>se(e,t.id,n.id),onDragEnd:$,style:{position:`relative`,display:`flex`,flexDirection:`column`,alignItems:`center`,opacity:k===n.id&&F?.groupId===t.id?.5:1,cursor:`move`},onMouseEnter:e=>{let t=e.currentTarget.querySelector(`.group-item-delete`);t&&(t.style.display=`block`)},onMouseLeave:e=>{let t=e.currentTarget.querySelector(`.group-item-delete`);t&&(t.style.display=`none`)},children:[(0,O.jsx)(s,{className:`group-item-delete`,type:`text`,danger:!0,icon:(0,O.jsx)(i,{}),size:`small`,style:{position:`absolute`,top:-4,right:-4,width:20,height:20,minWidth:20,padding:0,display:`none`,zIndex:10,backgroundColor:`rgba(255, 255, 255, 0.9)`,borderRadius:`50%`},onClick:e=>{e.stopPropagation(),X(t.id,n.id)}}),(0,O.jsxs)(`a`,{href:n.url,target:`_blank`,rel:`noopener noreferrer`,className:`flex flex-col items-center no-underline`,onClick:e=>e.stopPropagation(),children:[(0,O.jsx)(`div`,{style:{width:48,height:48,borderRadius:`50%`,backgroundColor:e.colorFillSecondary,display:`flex`,alignItems:`center`,justifyContent:`center`,overflow:`hidden`},children:(0,O.jsx)(`img`,{src:n.icon||L,alt:n.name,style:{width:32,height:32},onError:e=>{e.target.src=L}})}),(0,O.jsx)(`div`,{style:{fontSize:10,textAlign:`center`,color:e.colorTextSecondary,marginTop:4},children:n.name})]})]},n.id))})]}),trigger:`click`,open:N===t.id,onOpenChange:e=>P(e?t.id:null),children:(0,O.jsxs)(`div`,{draggable:!0,onDragStart:e=>Q(e,t.id),onDragOver:e=>ie(e,t.id),onDragLeave:ae,onDrop:e=>oe(e,t.id),onDragEnd:$,className:`flex flex-col items-center cursor-pointer transition-transform hover:-translate-y-1`,style:{opacity:k===t.id?.5:1,border:j===t.id?`2px dashed ${e.colorPrimary}`:`2px solid transparent`,borderRadius:`8px`,padding:`4px`},children:[(0,O.jsx)(`div`,{style:{width:48,height:48,borderRadius:`8px`,border:`2px solid ${e.colorBorder}`,backgroundColor:e.colorFillSecondary,display:`flex`,alignItems:`center`,justifyContent:`center`,marginBottom:8,position:`relative`},children:(0,O.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(2, 1fr)`,gap:`2px`,width:`100%`,height:`100%`,padding:`4px`},children:t.items.slice(0,4).map(e=>(0,O.jsx)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`center`,overflow:`hidden`},children:(0,O.jsx)(`img`,{src:e.icon||L,alt:e.name,style:{width:16,height:16},onError:e=>{e.target.src=L}})},e.id))})}),(0,O.jsxs)(`div`,{style:{fontSize:12,textAlign:`center`,color:e.colorTextSecondary},children:[t.name||`group`,`(`,t.items.length,`)`]})]})},t.id):(0,O.jsx)(v,{menu:{items:ue(t)},trigger:[`contextMenu`],children:(0,O.jsx)(`div`,{draggable:!0,onDragStart:e=>Q(e,t.id),onDragOver:e=>ie(e,t.id),onDragLeave:ae,onDrop:e=>oe(e,t.id),onDragEnd:$,className:`flex flex-col items-center cursor-pointer transition-transform hover:-translate-y-1`,style:{opacity:k===t.id?.5:1,border:j===t.id?`2px dashed ${e.colorPrimary}`:`2px solid transparent`,borderRadius:`8px`,padding:`4px`},children:(0,O.jsxs)(`a`,{href:t.url,target:`_blank`,rel:`noopener noreferrer`,className:`flex flex-col items-center no-underline`,onContextMenu:e=>{e.preventDefault()},onClick:e=>{k&&e.preventDefault()},children:[(0,O.jsx)(`div`,{style:{width:48,height:48,borderRadius:`50%`,backgroundColor:e.colorFillSecondary,display:`flex`,alignItems:`center`,justifyContent:`center`,marginBottom:8,overflow:`hidden`},children:(0,O.jsx)(`img`,{src:t.icon||L,alt:t.name,style:{width:32,height:32},onError:e=>{e.target.src=L}})}),(0,O.jsx)(`div`,{style:{fontSize:12,textAlign:`center`,color:e.colorTextSecondary},children:t.name})]})})},t.id);return(0,O.jsxs)(f,{title:`快捷方式`,className:`col-span-2`,extra:(0,O.jsx)(s,{type:`primary`,icon:(0,O.jsx)(d,{}),onClick:q,children:`添加`}),styles:{body:{display:`flex`,flexDirection:`column`,padding:`16px`}},children:[(0,O.jsx)(g,{spinning:b,children:(0,O.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`},children:[(0,O.jsx)(`div`,{ref:U,className:`grid grid-cols-[repeat(auto-fit,minmax(80px,1fr))] gap-4 custom-scrollbar`,style:{maxHeight:`300px`,overflowY:`auto`,overflowX:`hidden`},onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect=`move`},onDrop:async e=>{if(e.preventDefault(),F){let e=t.find(e=>e.id===F.groupId);if(e&&e.isGroup){let n=e.items.find(e=>e.id===F.itemId);if(n){let e=t.map(e=>{if(e.id===F.groupId&&e.isGroup){let t=e.items.filter(e=>e.id!==F.itemId);return t.length===1?t[0]:t.length===0?null:{...e,items:t}}return e}).filter(Boolean);e.push({...n}),await K(e)}}A(null),I(null)}},children:t.map(e=>de(e))}),(0,O.jsx)(p,{title:`确定要删除这个快捷方式吗？`,open:T!==null,onConfirm:te,onCancel:()=>D(null),okText:`确定`,cancelText:`取消`})]})}),(0,O.jsx)(o,{title:r?`编辑快捷方式`:`添加快捷方式`,open:h,onOk:ne,onCancel:re,okText:`保存`,cancelText:`取消`,width:500,children:(0,O.jsxs)(m,{form:y,layout:`vertical`,initialValues:{name:``,url:``,icon:``},children:[(0,O.jsx)(m.Item,{name:`name`,label:`名称`,rules:[{required:!0,message:`请输入名称`}],children:(0,O.jsx)(c,{placeholder:`名称`})}),(0,O.jsx)(m.Item,{name:`url`,label:`网址`,rules:[{required:!0,message:`请输入网址`}],children:(0,O.jsx)(c,{placeholder:`网址 (例如: github.com)`})}),(0,O.jsx)(m.Item,{name:`icon`,label:`图标 URL (可选)`,children:(0,O.jsx)(c,{placeholder:`图标 URL (可选)`})})]})})]})}var{useToken:B}=_;function V(){let{token:e}=B(),[t,n]=(0,E.useState)([]),[r,i]=(0,E.useState)(``),[a,o]=(0,E.useState)(!0),[u,d]=(0,E.useState)(null),m=(0,E.useRef)(null),_=(0,E.useRef)(null);(0,E.useEffect)(()=>{v()},[]),(0,E.useEffect)(()=>{let e=m.current;if(!e)return;let t=()=>{e.classList.add(`scrolling`),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{e.classList.remove(`scrolling`)},1e3)};return e.addEventListener(`scroll`,t),()=>{e.removeEventListener(`scroll`,t),_.current&&clearTimeout(_.current)}},[]);let v=async()=>{try{await w.init();let e=await w.get(`todos`);n(e&&Array.isArray(e)?e:[])}catch(e){console.error(`[TodoList] Load error:`,e),n([])}finally{o(!1)}},y=async e=>{try{await w.set(`todos`,e),n(e)}catch(e){console.error(`[TodoList] Save error:`,e)}},b=async()=>{let e=r.trim();if(e){let n=Date.now();await y([{id:n,text:e,completed:!1,createdAt:n},...t]),i(``)}},x=async e=>{await y(t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},C=async e=>{await y(t.filter(t=>t.id!==e)),d(null)},T=e=>{if(!e)return``;let t=new Date(e),n=new Date;return n-t<1440*60*1e3&&t.getDate()===n.getDate()?t.toLocaleTimeString(`zh-CN`,{hour:`2-digit`,minute:`2-digit`}):t.getFullYear()===n.getFullYear()?t.toLocaleString(`zh-CN`,{month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`}):t.toLocaleString(`zh-CN`,{year:`numeric`,month:`2-digit`,day:`2-digit`,hour:`2-digit`,minute:`2-digit`})};return(0,O.jsx)(f,{title:`待办事项`,className:`col-span-1`,styles:{body:{display:`flex`,flexDirection:`column`,padding:`16px`}},children:(0,O.jsx)(g,{spinning:a,children:(0,O.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`},children:[(0,O.jsx)(c,{placeholder:`输入任务后按回车添加...`,value:r,onChange:e=>i(e.target.value),onPressEnter:b,style:{width:`100%`,flexShrink:0,marginBottom:16}}),(0,O.jsx)(`div`,{ref:m,className:`custom-scrollbar`,style:{maxHeight:`300px`,overflowY:`auto`,overflowX:`hidden`},children:(0,O.jsx)(l,{direction:`vertical`,style:{width:`100%`},size:`middle`,children:t.map(t=>(0,O.jsxs)(`div`,{className:`todo-item`,style:{display:`flex`,alignItems:`flex-start`,paddingBottom:8,paddingTop:8,paddingLeft:12,paddingRight:12,marginLeft:-12,marginRight:-12,borderBottom:`1px solid ${e.colorBorder}`,borderRadius:8},onMouseEnter:e=>{let t=e.currentTarget.querySelector(`.todo-delete-btn`);t&&(t.style.display=`block`)},onMouseLeave:e=>{let t=e.currentTarget.querySelector(`.todo-delete-btn`);t&&(t.style.display=`none`)},children:[(0,O.jsx)(h,{checked:t.completed,onChange:()=>x(t.id),style:{marginTop:2}}),(0,O.jsxs)(`div`,{style:{flex:1,marginLeft:8},children:[(0,O.jsx)(`div`,{style:{textDecoration:t.completed?`line-through`:`none`,opacity:t.completed?.6:1,color:e.colorText},children:t.text}),t.createdAt&&(0,O.jsx)(`div`,{style:{fontSize:11,color:e.colorTextSecondary,marginTop:4,opacity:.7},children:T(t.createdAt)})]}),(0,O.jsx)(p,{title:`确定要删除这个待办事项吗？`,open:u===t.id,onConfirm:()=>C(t.id),onCancel:()=>d(null),okText:`确定`,cancelText:`取消`,children:(0,O.jsx)(s,{className:`todo-delete-btn`,type:`text`,danger:!0,icon:(0,O.jsx)(S,{}),size:`small`,onClick:()=>d(t.id),style:{display:`none`,opacity:.7}})})]},t.id))})})]})})})}var H=`modulepreload`,U=function(e){return`/`+e},W={};const G=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=U(t,n),t in W)return;W[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:H,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var K=n(),q=(0,E.lazy)(()=>G(()=>import(`./Settings-CdQQZnFk.js`),__vite__mapDeps([0,1,2,3,4,5,6])));function J(){let{antdTheme:e}=M(),[t,n]=(0,E.useState)(!1),[r,i]=(0,E.useState)({}),[a,o]=(0,E.useState)(``),c=(0,E.useCallback)(t=>{let n={};t.type===`image`&&t.image?(n.backgroundImage=`url(${t.image})`,n.backgroundSize=`cover`,n.backgroundPosition=`center`,n.backgroundRepeat=`no-repeat`,o(``)):t.type===`video`&&t.video?(n.backgroundColor=`transparent`,o(t.video)):(n.backgroundColor=e.token?.colorBgContainer||`#ffffff`,o(``)),i(n)},[e]),l=(0,E.useCallback)(async()=>{try{await w.init();let t=await w.get(`background_settings`);t?c(t):(i({backgroundColor:e.token?.colorBgContainer||`#ffffff`}),o(``))}catch(t){console.error(`[App] Load background error:`,t),i({backgroundColor:e.token?.colorBgContainer||`#ffffff`}),o(``)}},[c,e]);return(0,E.useEffect)(()=>{let e=e=>{e.preventDefault()};document.addEventListener(`contextmenu`,e),(async()=>{await l()})();let t=e=>{c(e.detail)};return window.addEventListener(`backgroundChanged`,t),()=>{document.removeEventListener(`contextmenu`,e),window.removeEventListener(`backgroundChanged`,t)}},[l,c]),(0,O.jsx)(y,{theme:e,children:(0,O.jsxs)(`div`,{className:`h-screen w-screen flex flex-col transition-all relative overflow-hidden`,style:{...r},children:[a&&(0,O.jsx)(`video`,{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:`fixed inset-0 w-full h-full object-cover z-0`,style:{pointerEvents:`none`},children:(0,O.jsx)(`source`,{src:a,type:`video/mp4`})}),(0,O.jsxs)(`div`,{className:`relative z-10 flex flex-col h-full overflow-hidden`,children:[(0,O.jsx)(F,{}),(0,O.jsxs)(`main`,{className:`flex-1 flex flex-col items-center justify-center px-5 gap-8 overflow-hidden`,children:[(0,O.jsx)(I,{}),(0,O.jsxs)(`div`,{className:`grid grid-cols-3 gap-5 max-w-[1000px] w-full`,children:[(0,O.jsx)(z,{}),(0,O.jsx)(V,{})]})]})]}),(0,O.jsx)(s,{type:`primary`,shape:`circle`,icon:(0,O.jsx)(C,{}),size:`large`,onClick:()=>n(!0),style:{position:`fixed`,bottom:24,left:24,width:48,height:48,zIndex:1e3}}),t&&(0,O.jsx)(E.Suspense,{fallback:(0,O.jsx)(`div`,{style:{position:`fixed`,inset:0,display:`flex`,alignItems:`center`,justifyContent:`center`,backgroundColor:`rgba(0, 0, 0, 0.45)`,zIndex:1e3},children:(0,O.jsx)(g,{size:`large`})}),children:(0,O.jsx)(q,{isOpen:t,onClose:()=>n(!1)})})]})})}function Y(){let e=(0,K.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,O.jsx)(A,{children:(0,O.jsx)(J,{})}),e[0]=t):t=e[0],t}var X=Y;(0,T.createRoot)(document.getElementById(`root`)).render((0,O.jsx)(E.StrictMode,{children:(0,O.jsx)(X,{})}));